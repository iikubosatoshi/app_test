# 卒業・卒論着手要件チェッカー

成績表 PDF（**文字選択可能なテキスト PDF**）を入力として、  
**卒業要件**および**卒論着手要件（3年後期終了時点）**を自動判定する  
Streamlit 製アプリケーションです。

九州大学 工学部  
- 物質材料コース  
- 機械電気コース  

を想定しています。

---

## 特徴

- 成績表 PDF をアップロードするだけで自動判定
- 科目名の分割・改行を考慮した高耐性パーサ
- ローマ数字・全角半角ゆれを吸収した突合ロジック
- **選択必修なし仕様**（必修 / 選択のみ）
- 未分類科目を一覧表示してデバッグ可能
- course_master / requirements を分離管理

---

## ディレクトリ構成

```text
.
├── app.py                 # Streamlit アプリ
├── extractor.py           # PDF から成績を抽出
├── judge.py               # 要件判定ロジック
├── data/
│   ├── course_master.csv  # 科目マスタ（完成版）
│   └── requirements.yaml  # 要件定義
└── README.md
```

---

## セットアップ

### 1. 仮想環境（推奨）

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

### 2. 依存関係インストール

```bash
pip install streamlit pyyaml pdfplumber
```

---

## 起動方法

```bash
streamlit run app.py
```

ブラウザが自動で開きます。

---

## 使い方

1. 成績表 PDF をアップロード  
2. コースを選択（物質材料 / 機械電気）
3. 入学年度を入力
4. 判定結果を確認

---

## 判定内容

### 卒業要件

- 基幹教育科目 合計単位
- 専攻教育科目 合計単位（共通＋自コース）
- 専攻教育（必修）
- 専攻教育（選択）
- 総取得単位

### 卒論着手要件（3年後期終了時点）

- 基幹教育科目の必要単位数
- 専攻教育科目（4年次開講除外）
- 必修の実験・演習を全て修得しているか
- 必修（4年次開講除外）の未修得単位が 4 単位以下か

---

## course_master.csv について

| 列名 | 内容 |
|----|----|
| name | 正式な科目名（突合基準） |
| credits | 単位数 |
| area | 基幹 / 専攻 |
| kind | 必修 / 選択 |
| is_lab_or_exercise | 実験・演習か |
| is_fourth_year | 4年次開講科目か |
| scope | 共通 / 物質材料 / 機械電気 |

※ 科目名は **正式名称で一意**にしてください。

---

## requirements.yaml について

- 学期順序（term_order）
- コース別の卒業要件
- コース別の卒論着手要件

を定義します。

---

## 未分類科目について

以下の条件に当てはまると未分類になります。

- course_master.csv に存在しない
- 正規化後の科目名が一致しない

未分類科目は **集計に含まれません**。

必要に応じて

- course_master.csv へ追加
- judge.py の alias 定義へ追加

を行ってください。

---

## 注意事項

- 本アプリは **公式な判定を代替するものではありません**
- 最終的な卒業可否は必ず大学の公式案内で確認してください
- 認定（R）は合格として扱います

---

## ライセンス

学内・個人利用を想定  
再配布・商用利用は各自で確認してください。
